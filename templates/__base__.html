<!DOCTYPE html>
{% macro pagination(url, page) %}
    <ul class="uk-pagination">
        {% if page.has_previous %}
            <li><a href="{{ url }}{{ page.page_index - 1 }}"><i class="uk-icon-angle-double-left"></i></a></li>
        {% else %}
            <li class="uk-disabled"><span><i class="uk-icon-angle-double-left"></i></span></li>
        {% endif %}

        {% if page.page_index == 1 %}
            <li class="uk-active"><span>1</span></li>
        {% else %}
            <li><a href="{{ url }}{{ 1 }}">1</a></li>
        {% endif %}

        {% if page.pagelist %}
            {% if page.pagelist[0] > 2 %}
                <li><span>...</span></li>
            {% endif %}

            {% for pl in page.pagelist %}
                {% if pl == page.page_index %}
                    <li class="uk-active"><span>{{ page.page_index }}</span></li>
                {% else %}
                    <li><a href="{{ url }}{{ pl }}">{{ pl }}</a></li>
                {% endif %}
            {% endfor %}

            {% if page.pagelist[-1] < (page.page_count-1) %}
                <li><span>...</span></li>
            {% endif %}
        {% endif %}

        {% if page.page_count > 1 %}
            {% if page.page_index == page.page_count %}
                <li class="uk-active"><span>{{ page.page_count }}</span></li>
            {% else %}
                <li><a href="{{ url }}{{ page.page_count }}">{{
        page.page_count }}</a></li>
            {% endif %}
        {% endif %}

        {% if page.has_next %}
            <li><a href="{{ url }}{{ page.page_index + 1 }}"><i class="uk-icon-angle-double-right"></i></a></li>
        {% else %}
            <li class="uk-disabled"><span><i class="uk-icon-angle-double-right"></i></span></li>
        {% endif %}
    </ul>
{% endmacro %}

<html>
<head>
    <meta charset="UTF-8" />
    {% block meta %}<!-- block meta -->{% endblock %}
    <title>{% block title %} ? {% endblock %} - Awesome Python Webapp</title>
    <link rel="stylesheet" href="/static/css/uikit.min.css">
    <!--<link rel="stylesheet" href="/static/css/uikit.gradient.min.css">-->
    <link rel="stylesheet" href="/static/css/awesome.css" />
    <link href="https://fonts.googleapis.com/css?family=Covered+By+Your+Grace|Raleway:100,500,600,800" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/sha1.min.js"></script>
    <script src="/static/js/uikit.min.js"></script>
    <script src="/static/js/sticky.min.js"></script>
    <script src="/static/js/vue.min.js"></script>
    <script src="/static/js/awesome.js"></script>
    {% block beforehead %}<!-- before head -->{% endblock %}
</head>
<body>
    <nav class="uk-navbar uk-navbar-attached uk-margin-bottom">
        <div class="uk-container uk-container-center">
            <a href="/" class="uk-navbar-brand"
               style="font-family: Raleway">WalleSun Blog</a>
            <div class="uk-navbar-flip">
                <ul class="uk-navbar-nav">
                {% if __user__ %}
                    <li class="uk-parent" data-uk-dropdown>
                        <a href="#0"><i class="uk-icon-user"></i>{{
                            __user__.name }}</a>
                        <div class="uk-dropdown uk-dropdown-navbar">
                            <ul class="uk-nav uk-nav-navbar">
                                <li><a href="/signout"><i class="uk-icon-sign-out"></i> 登出</a></li>
                            </ul>
                        </div>
                    </li>
                {% else %}
                    <li><a href="/signin"><i class="uk-icon-sign-in"></i> 登陆</a></li>
                    <li><a href="/register"><i class="uk-icon-edit"></i> 注册</a></li>
                {% endif %}
                </ul>
            </div>
        </div>
    </nav>


    <div class="uk-container uk-container-center">
        <div class="uk-grid">
            <!-- content -->
            {% block content %}
            {% endblock %}
            <!-- // content -->
        </div>
    </div>

    <div class="uk-margin-large-top" style="background-color: #41292c;
    border-top:1px solid #41292c;">
        <div class="uk-container uk-container-center uk-text-center uk-contrast">
            <div class="uk-panel uk-margin-top uk-margin-bottom">
                <p>
                    <a target="_blank" href="http://weibo.com/u/2659491180/home" class="uk-icon-button uk-icon-weibo"></a>
                    <a target="_blank" href="https://github.com/WalleSun415" class="uk-icon-button uk-icon-github"></a>
                </p>
                <p>Power by <a href="#">Awesome Python Webapp</a>. Copyright &copy; 2014.[<a href="/manage/" target="_blank">Manage</a>]</p>
                <p><a href="http://www.sunwanli.com/" target="_blank">www.sunwanli.com</a>. All right reserved.</p>
            </div>
        </div>
    </div>

</body>
</html>